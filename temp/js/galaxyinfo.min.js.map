{"version":3,"sources":["app.js","data/data.js","controllers/GalaxyPage.js","directives.js","templates.js"],"names":["angular","module","config","$routeProvider","when","templateUrl","otherwise","redirectTo","app","factory","$http","$q","processEvent","data","api","downloaded","forEach","e","onDownloaded","f","push","init","lang","get","then","d","controller","$scope","$routeParams","$window","GalaxyInfoData","source","current","currentIdx","location","href","setCurrent","index","getTemplate","directive","restrict","transclude","scope","params","value","link","s","a","postfix","val","parseFloat","toExponential","toString","indexOf","replace","console","log","html","run","$templateCache","put"],"mappings":"AAAAA,QAAAC,OAAA,cAAA,UAAA,iBACAC,QAAA,iBAAA,SAAAC,GACAA,EAAAC,KAAA,cACAC,YAAA,qBACAC,WACAC,WAAA,UCLA,IAAAC,KAAAR,QAAAC,OAAA,aACAO,KAAAC,QAAA,kBAAA,QAAA,KAAA,SAAAC,EAAAC,GAQA,QAAAC,GAAAC,GACAC,EAAAC,WAAAC,QAAA,SAAAC,GACA,kBAAAA,IACAA,EAAAJ,KAVA,GAAAA,MAGAC,GACAD,QACAE,cAwBA,OAhBAD,GAAAI,aAAA,SAAAC,GACAL,EAAAC,WAAAK,KAAAD,IAEAL,EAAAO,KAAA,SAAAC,GACA,mBAAAT,GAAAS,GACAZ,EAAAa,IAAA,UAAAD,EAAA,SACAE,KAAA,SAAAC,GACAZ,EAAAS,GAAAG,EAAAZ,KACAC,EAAAD,KAAAY,EAAAZ,KACAD,EAAAE,EAAAD,SAGAC,EAAAD,KAAAA,EAAAS,GACAV,EAAAE,EAAAD,QAGAC,IC/BA,IAAAN,KAAAR,QAAAC,OAAA,aACAO,KAAAkB,WAAA,cAAA,SAAA,eAAA,UAAA,iBAAA,SAAAC,EAAAC,EAAAC,EAAAC,GACAH,EAAAI,UACAJ,EAAAK,WACAL,EAAAM,WAAAL,EAAA,UAAA,GACAD,EAAAM,WAAA,IACAJ,EAAAK,SAAAC,KAAA,YAEAR,EAAAM,YAAA,IACAN,EAAAS,WAAA,SAAAC,GACAV,EAAAM,WAAAI,EACAV,EAAAK,QAAAL,EAAAI,OAAAM,IAEAV,EAAAW,YAAA,SAAAD,GACA,MAAA,mBAAAA,EAAA,SAEAP,EAAAZ,aAAA,SAAAO,GACAE,EAAAI,OAAAN,EACAE,EAAAS,WAAAT,EAAAM,cAEAH,EAAAT,KAAA,SCpBA,IAAAb,KAAAR,QAAAC,OAAA,aACAO,KAAA+B,UAAA,aAAA,WACA,OACAC,SAAA,KACAnC,YAAA,sBAGAG,IAAA+B,UAAA,SAAA,WACA,OACAC,SAAA,IACAC,YAAA,EACAC,OACAC,OAAA,IACAC,MAAA,KAEAC,KAAA,SAAAC,EAAA7B,EAAA8B,GACA,GAAAC,GAAA,EACA,QAAAD,EAAAJ,QACA,IAAA,SACAK,EAAA,iBACA,MACA,KAAA,SACAA,EAAA,KACA,MACA,KAAA,OACAA,EAAA,iBACA,MACA,KAAA,QACAA,EAAA,QAGA,GAAAC,GAAAH,EAAAF,MAAA,IACAM,WAAAJ,EAAAF,OAAAO,cAAA,GAAAC,WACAN,EAAAF,MAAAQ,UACAH,GAAAI,QAAA,MAAA,IACAJ,EAAAA,EAAAK,QAAA,KAAA,YAAA,UAEAC,QAAAC,IAAAV,EAAAF,MAAAK,GACAhC,EAAAwC,KAAAR,EAAAD,OCtCAhD,QAAAC,OAAA,cAAAyD,KAAA,iBAAA,SAAAC,GAAAA,EAAAC,IAAA,yBAAA,8NACAD,EAAAC,IAAA,yBAAA,o/BACAD,EAAAC,IAAA,yBAAA,4xCACAD,EAAAC,IAAA,mBAAA","file":"galaxyinfo.min.js","sourcesContent":["angular.module('GalaxyInfo',['ngRoute','ui.bootstrap'])\n    .config(function($routeProvider){\n        $routeProvider.when('/:galaxyid',{\n            templateUrl:'info-master.html'\n        }).otherwise({\n            redirectTo:'/-1'\n        });\n    });\n","var app=angular.module('GalaxyInfo');\napp.factory('GalaxyInfoData',function($http,$q){\n    var data={\n\n    };\n    var api={\n        data:[],\n        downloaded:[]\n    };\n    function processEvent(data){\n        api.downloaded.forEach(function(e){\n            if(typeof e==='function')\n                e(data);\n        });\n    }\n    api.onDownloaded=function(f){\n        api.downloaded.push(f);\n    };\n    api.init=function(lang){\n        if(typeof data[lang]==='undefined')\n            $http.get('galaxy-'+lang+'.json')\n                .then(function(d){\n                    data[lang]= d.data;\n                    api.data= d.data;\n                    processEvent(api.data);\n                });\n        else {\n            api.data=data[lang];\n            processEvent(api.data);\n        }\n    };\n    return api;\n});","var app = angular.module('GalaxyInfo');\napp.controller('GalaxyPage', function ($scope, $routeParams,$window, GalaxyInfoData) {\n    $scope.source=[];\n    $scope.current={};\n    $scope.currentIdx=$routeParams['galaxyid'] || -1;\n    if($scope.currentIdx>7)\n        $window.location.href='404.html';\n\n    if($scope.currentIdx>=0) {\n        $scope.setCurrent = function (index) {\n            $scope.currentIdx = index;\n            $scope.current = $scope.source[index];\n        };\n        $scope.getTemplate = function (index) {\n            return \"info-detail-page\" + index + \".html\";\n        };\n        GalaxyInfoData.onDownloaded(function (d) {\n            $scope.source = d;\n            $scope.setCurrent($scope.currentIdx);\n        });\n        GalaxyInfoData.init('vn');\n    }\n});\n","var app=angular.module('GalaxyInfo');\napp.directive('galaxyPage',function(){\n    return {\n        restrict:'AE',\n        templateUrl:'info-master.html'\n    }\n});\napp.directive('params',function(){\n    return {\n        restrict:'A',\n        transclude:true,\n        scope:{\n            params:'=',\n            value:'@'\n        },\n        link:function(s,e,a){\n            var postfix='';\n            switch(a.params){\n                case 'volume':\n                    postfix=' km<sup>3</sup>';\n                    break;\n                case 'weight':\n                    postfix=' kg';\n                    break;\n                case 'area':\n                    postfix=' km<sup>2</sup>';\n                    break;\n                case 'cycle':\n                    postfix=' ngày';\n                    break;\n            }\n            var val= (s.value>10000)?\n                parseFloat(s.value).toExponential(4).toString()\n                : s.value.toString();\n            if(val.indexOf('e')>=0)\n                val=val.replace(\"e+\", \"×10<sup>\")+\"</sup>\";\n\n            console.log(s.value,val);\n            e.html(val+postfix);\n        }\n    };\n});","angular.module(\"GalaxyInfo\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"info-detail-page0.html\",\"<style>\\n    p.page0 {\\n        font-size: 1.25em;\\n        margin-top: 2em;\\n        color: rgba(0,0,0,0.7);\\n        line-height: 1.8em;\\n        text-align: justify;\\n    }\\n</style>\\n<p class=\\\"page0\\\">{{p.desc}}</p>\");\n$templateCache.put(\"info-detail-page1.html\",\"<style>\\n    ul {\\n        list-style: none;\\n    }\\n    .page1-value {\\n        color: #0073d1;\\n    }\\n    .page1-key{\\n        width: 200px;\\n        display: inline-block;\\n    }\\n</style>\\n<p><span class=\\\"page1-key\\\">Kiểu hành tinh : </span><span>{{p.planetType}}</span></p>\\n<p><span class=\\\"page1-key\\\">Thể tích : </span><span params=\\\"volume\\\" value=\\\"{{p.volume}}\\\"></span></p>\\n<p><span class=\\\"page1-key\\\">Khối lượng : </span><span params=\\\"weight\\\" value=\\\"{{p.weight}}\\\"></span></p>\\n<p><span class=\\\"page1-key\\\">Diện tích bề mặt : </span><span params=\\\"area\\\" value=\\\"{{p.surfaceArea}}\\\"></span></p>\\n<p><span class=\\\"page1-key\\\">Chu kì tự quay: </span><span params=\\\"cycle\\\" value=\\\"{{p.rotationCycle}}\\\"></span></p>\\n<p><span class=\\\"page1-key\\\">Nhiệt độ bề mặt : </span><span>{{p.surfaceTemp}}</span></p>\\n<p><span class=\\\"page1-key\\\">Thành phần khí quyển</span></p>\\n<ul>\\n    <li ng-repeat=\\\"(key, value) in p.atmCompos\\\">\\n        <p><span class=\\\"page1-value\\\">{{value}}</span> <span>{{key}}</span></p>\\n    </li>\\n</ul>\");\n$templateCache.put(\"info-detail-page2.html\",\"<style>\\n    .page2{\\n        text-align: justify;\\n    }\\n    .page2 b {\\n        color: #0073d1;\\n    }\\n</style>\\n<p class=\\\"page2\\\"><i>Phần bên trong của Trái Đất, giống như các hành tinh đất đá khác, chia thành nhiều lớp dựa trên các đặc tính hóa, lý</i></p>\\n\\n<p class=\\\"page2\\\"><b>Lớp ngoài của vỏ Trái Đất</b> là một lớp silicat rắn bao gồm bảy mảng kiến tạo riêng biệt nằm trên một lớp chất rắn dẻo. Vỏ Trái Đất phân cách với lớp phủ bởi điểm gián đoạn Mohorovičić, và độ dày thay đổi trung bình 6 km đối với vỏ đại dương và 30–50 km đối với vỏ lục địa. Lớp vỏ và phần trên cùng của lớp phủ cứng, lạnh được gọi là thạch quyển, và các mảng lục địa được tạo trên thạch quyển.</p>\\n<p class=\\\"page2\\\">Dưới thạch quyển là <b>quyển mềm (quyển atheno)</b> do nó được cấu tạo bởi lớp đá \\\"mềm\\\".</p>\\n<p class=\\\"page2\\\">Dưới quyển mềm là <b>lớp phủ</b> có bề dày khoảng 2.900 km và là nơi có độ nhớt cao nhất. Những sự thay đổi quan trọng trong cấu trúc tinh thể bên trong lớp phủ xuất hiện tại độ sâu 410 và 660 km dưới mặt đất, trải qua một đới chuyển tiếp ngăn cách lớp phủ trên và dưới.</p>\\n<p class=\\\"page2\\\">Ở dưới lớp phủ, <b>lõi ngoài</b> có dạng chất lỏng mềm nằm trên <b>lõi trong rắn</b>. Lõi trong có thể quay với vận tốc góc hơi cao hơn so với phần còn lại của hành tinh khoảng 0,1- 0,5° mỗi năm</p>\");\n$templateCache.put(\"info-master.html\",\"<div class=\\\"galaxyinfo-master earth-page-0\\\" ng-controller=\\\"GalaxyPage\\\">\\n    <div class=\\\"galaxyinfo-show\\\" ng-show=\\\"currentIdx>=0\\\">\\n        <iframe style=\\\"width: 100%; height: 100%;\\\" ng-src=\\\"{{\\'frame\\'+currentIdx+\\'.html\\'}}\\\" frameBorder=\\\"0\\\"></iframe>\\n    </div>\\n    <div class=\\\"galaxyinfo-details container\\\" ng-show=\\\"currentIdx>=0\\\">\\n        <h1 style=\\\"margin-left: 80px;\\\">{{current.name}}</h1>\\n        <carousel class=\\\"fading\\\">\\n            <slide ng-repeat=\\\"p in current.pages\\\">\\n                <div class=\\\"carousel-caption\\\">\\n                    <ng-include src=\\\"getTemplate($index)\\\"></ng-include>\\n                </div>\\n            </slide>\\n        </carousel>\\n    </div>\\n    <ul class=\\\"galaxyinfo-nav list-inline\\\">\\n        <li><a href=\\\"#/0\\\">Sao Thuỷ</a></li>\\n        <li><a href=\\\"#/1\\\">Sao Kim</a></li>\\n        <li><a href=\\\"#/2\\\">Trái Đất</a></li>\\n        <li><a href=\\\"#/3\\\">Sao Hoả</a></li>\\n        <li><a href=\\\"#/4\\\">Sao Mộc</a></li>\\n        <li><a href=\\\"#/5\\\">Sao Thổ</a></li>\\n        <li><a href=\\\"#/6\\\">Sao Thiên Vương</a></li>\\n        <li><a href=\\\"#/7\\\">Sao Hải Vương</a></li>\\n    </ul>\\n    <a id=\\\"close\\\" href=\\\"#/-1\\\" ng-show=\\\"currentIdx>=0\\\"><span class=\\\"glyphicon glyphicon-remove\\\"></span></a>\\n</div>\\n\");}]);"],"sourceRoot":"/source/"}